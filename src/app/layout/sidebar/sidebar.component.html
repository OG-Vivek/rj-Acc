<mat-nav-list>
    <ng-container *ngFor="let item of menuItems">
        <!-- Handle items without children -->
        <a mat-list-item [routerLink]="item.route" *ngIf="!item.children && item.route" routerLinkActive="active-list-item">
            <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
            <span matListItemTitle>{{ item.label }}</span>
        </a>

        <!-- Handle items with children -->
        <div *ngIf="item.children && item.children.length">
            <a mat-list-item (click)="onItemSelected(item)" [class.active-list-item]="item.expanded">
                <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
                <span matListItemTitle>{{ item.label }}</span>
                <mat-icon class="expansion-indicator" [class.rotated]="item.expanded">expand_more</mat-icon>
            </a>
            <div class="submenu" [class.expanded]="item.expanded">
                <a mat-list-item *ngFor="let child of item.children" [routerLink]="child.route" routerLinkActive="active-list-item">
                    <span matListItemTitle>{{ child.label }}</span>
                </a>
            </div>
        </div>
    </ng-container>
</mat-nav-list>
